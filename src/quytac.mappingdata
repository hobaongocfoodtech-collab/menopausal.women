QUY TẮC MAPPING VÀ XỬ LÝ DỮ LIỆU (DATA CLEANING RULES)
Dự án: Phân tích Mãn kinh & Chất lượng cuộc sống (ICATSD 2026)

1. QUY TẮC CHUẨN HÓA TÊN CỘT
Mục đích: Đưa các tiêu đề tiếng Việt dài dòng về dạng mã biến (Variable Code) ngắn gọn tiếng Anh để thuận tiện cho lập trình.
- Age: Độ tuổi
- Height_cm: Chiều cao
- Weight_kg: Cân nặng
- Marital_Status: Tình trạng hôn nhân
- Job: Nghề nghiệp
- Education: Trình độ học vấn
- Income: Thu nhập
- Meno_Age_Raw: Tuổi mãn kinh (Dữ liệu gốc)
- PSS_1 đến PSS_10: 10 câu hỏi thang đo Stress
- MENQOL_Score: Điểm chất lượng cuộc sống

2. QUY TẮC PHÂN LOẠI TRẠNG THÁI MÃN KINH (MENOPAUSE STATUS)
Biến mới: [Meno_Group]
Logic phân loại dựa trên dữ liệu cột "Tuổi mãn kinh":
- Nhóm 0 (Chưa mãn kinh / Tiền mãn kinh):
  + Điều kiện: Dữ liệu là văn bản chứa các từ khóa: "chưa", "tiền", "sắp", "không", "đang", "vẫn", "có thể".
  + Ý nghĩa: Đối tượng chưa xác định được thời điểm mãn kinh hoàn toàn.
- Nhóm 1 (Đã mãn kinh):
  + Điều kiện: Dữ liệu là con số cụ thể (ví dụ: 45, 50, 52).
  + Ý nghĩa: Đối tượng đã mãn kinh và có độ tuổi mãn kinh xác định.

3. QUY TẮC TÍNH THỜI GIAN MÃN KINH (MENO DURATION)
Biến mới: [Meno_Duration]
Đơn vị: Năm
- Với Nhóm 0: Gán giá trị = 0 (Chưa có thời gian mãn kinh).
- Với Nhóm 1: Công thức = [Tuổi hiện tại] - [Tuổi mãn kinh].
  + Nếu kết quả < 0 (lỗi nhập liệu): Quy về 0.

4. QUY TẮC TÍNH ĐIỂM STRESS (PSS-10 SCORING)
Thang điểm gốc: 0 (Không bao giờ) đến 4 (Luôn luôn).
Quy tắc đảo ngược điểm (Reverse Scoring): Áp dụng cho các câu hỏi mang tính tích cực (Câu 4, 5, 7, 8).
- Công thức đảo: Điểm mới = 4 - Điểm cũ.
- Các câu 1, 2, 3, 6, 9, 10: Giữ nguyên điểm.
Tổng điểm PSS = Tổng điểm 10 câu sau khi đã xử lý đảo ngược.

5. MAPPING CÁC BIẾN ĐỊNH TÍNH (CATEGORICAL VARIABLES)
Chuyển đổi dữ liệu chữ sang số để chạy mô hình AI:

A. Học vấn (Education_Code):
- 0: Không đi học
- 1: Tiểu học
- 2: THCS
- 3: THPT – trung cấp
- 4: Đại học – cao đẳng
- 5: Trên đại học

B. Thu nhập (Income_Code):
- 1: Dưới 5 triệu
- 2: Từ 5 đến 10 triệu
- 3: Trên 10 triệu (bao gồm cả mức 11-20 triệu)
- 4: Trên 20 triệu

C. Nghề nghiệp (Job_Code):
- 1: Nội trợ
- 2: Công nhân
- 3: Nhân viên văn phòng
- 4: Kinh doanh
- 5: Hưu trí
- 0: Khác (Gom các nhóm nhỏ lẻ)

6. CHỈ SỐ BMI
Công thức: Weight_kg / (Height_cm / 100)^2
Xử lý: Nếu chiều cao hoặc cân nặng thiếu, gán BMI = 0.